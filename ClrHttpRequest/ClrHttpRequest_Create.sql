/*
Deployment script for ClrHttpRequest

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;


GO
:setvar CLRKeyName "clr_http_request_pkey"
:setvar CLRLoginName "clr_http_request_login"
:setvar PathToSignedDLL "C:\ClrHttpRequest\ClrHttpRequest.dll"
:setvar DatabaseName "ClrHttpRequest"
:setvar DefaultFilePrefix "ClrHttpRequest"
:setvar DefaultDataPath ""
:setvar DefaultLogPath ""

GO
:on error exit
GO
/*
Detect SQLCMD mode and disable script execution if SQLCMD mode is not supported.
To re-enable the script after enabling SQLCMD mode, execute the following:
SET NOEXEC OFF; 
*/
:setvar __IsSqlCmdEnabled "True"
GO
IF N'$(__IsSqlCmdEnabled)' NOT LIKE N'True'
    BEGIN
        PRINT N'SQLCMD mode must be enabled to successfully execute this script.';
        SET NOEXEC ON;
    END


GO
USE [master];


GO

IF (DB_ID(N'$(DatabaseName)') IS NOT NULL) 
BEGIN
    ALTER DATABASE [$(DatabaseName)]
    SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
    DROP DATABASE [$(DatabaseName)];
END

GO
PRINT N'Creating database $(DatabaseName)...'
GO
CREATE DATABASE [$(DatabaseName)] COLLATE SQL_Latin1_General_CP1_CI_AS
GO
USE [$(DatabaseName)];


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET ANSI_NULLS ON,
                ANSI_PADDING ON,
                ANSI_WARNINGS ON,
                ARITHABORT ON,
                CONCAT_NULL_YIELDS_NULL ON,
                NUMERIC_ROUNDABORT OFF,
                QUOTED_IDENTIFIER ON,
                ANSI_NULL_DEFAULT ON,
                CURSOR_DEFAULT LOCAL,
                RECOVERY SIMPLE,
                CURSOR_CLOSE_ON_COMMIT OFF,
                AUTO_CREATE_STATISTICS ON,
                AUTO_SHRINK OFF,
                AUTO_UPDATE_STATISTICS ON,
                RECURSIVE_TRIGGERS OFF 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET ALLOW_SNAPSHOT_ISOLATION OFF;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET READ_COMMITTED_SNAPSHOT OFF 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET AUTO_UPDATE_STATISTICS_ASYNC OFF,
                PAGE_VERIFY CHECKSUM,
                DATE_CORRELATION_OPTIMIZATION OFF,
                DISABLE_BROKER,
                PARAMETERIZATION SIMPLE,
                SUPPLEMENTAL_LOGGING OFF 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF IS_SRVROLEMEMBER(N'sysadmin') = 1
    BEGIN
        IF EXISTS (SELECT 1
                   FROM   [master].[dbo].[sysdatabases]
                   WHERE  [name] = N'$(DatabaseName)')
            BEGIN
                EXECUTE sp_executesql N'ALTER DATABASE [$(DatabaseName)]
    SET TRUSTWORTHY OFF,
        DB_CHAINING OFF 
    WITH ROLLBACK IMMEDIATE';
            END
    END
ELSE
    BEGIN
        PRINT N'The database settings cannot be modified. You must be a SysAdmin to apply these settings.';
    END


GO
IF IS_SRVROLEMEMBER(N'sysadmin') = 1
    BEGIN
        IF EXISTS (SELECT 1
                   FROM   [master].[dbo].[sysdatabases]
                   WHERE  [name] = N'$(DatabaseName)')
            BEGIN
                EXECUTE sp_executesql N'ALTER DATABASE [$(DatabaseName)]
    SET HONOR_BROKER_PRIORITY OFF 
    WITH ROLLBACK IMMEDIATE';
            END
    END
ELSE
    BEGIN
        PRINT N'The database settings cannot be modified. You must be a SysAdmin to apply these settings.';
    END


GO
ALTER DATABASE [$(DatabaseName)]
    SET TARGET_RECOVERY_TIME = 0 SECONDS 
    WITH ROLLBACK IMMEDIATE;


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET FILESTREAM(NON_TRANSACTED_ACCESS = OFF),
                CONTAINMENT = NONE 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET AUTO_CREATE_STATISTICS ON(INCREMENTAL = OFF),
                MEMORY_OPTIMIZED_ELEVATE_TO_SNAPSHOT = OFF,
                DELAYED_DURABILITY = DISABLED 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET QUERY_STORE (QUERY_CAPTURE_MODE = ALL, DATA_FLUSH_INTERVAL_SECONDS = 900, INTERVAL_LENGTH_MINUTES = 60, MAX_PLANS_PER_QUERY = 200, CLEANUP_POLICY = (STALE_QUERY_THRESHOLD_DAYS = 367), MAX_STORAGE_SIZE_MB = 100) 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET QUERY_STORE = OFF 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE SCOPED CONFIGURATION SET MAXDOP = 0;
        ALTER DATABASE SCOPED CONFIGURATION FOR SECONDARY SET MAXDOP = PRIMARY;
        ALTER DATABASE SCOPED CONFIGURATION SET LEGACY_CARDINALITY_ESTIMATION = OFF;
        ALTER DATABASE SCOPED CONFIGURATION FOR SECONDARY SET LEGACY_CARDINALITY_ESTIMATION = PRIMARY;
        ALTER DATABASE SCOPED CONFIGURATION SET PARAMETER_SNIFFING = ON;
        ALTER DATABASE SCOPED CONFIGURATION FOR SECONDARY SET PARAMETER_SNIFFING = PRIMARY;
        ALTER DATABASE SCOPED CONFIGURATION SET QUERY_OPTIMIZER_HOTFIXES = OFF;
        ALTER DATABASE SCOPED CONFIGURATION FOR SECONDARY SET QUERY_OPTIMIZER_HOTFIXES = PRIMARY;
    END


GO
IF fulltextserviceproperty(N'IsFulltextInstalled') = 1
    EXECUTE sp_fulltext_database 'disable';


GO
/*
 Pre-Deployment Script Template							
--------------------------------------------------------------------------------------
 This file contains SQL statements that will be executed before the build script.	
 Use SQLCMD syntax to include a file in the pre-deployment script.			
 Example:      :r .\myfile.sql								
 Use SQLCMD syntax to reference a variable in the pre-deployment script.		
 Example:      :setvar TableName MyTable							
               SELECT * FROM [$(TableName)]					
--------------------------------------------------------------------------------------
*/

use [master];
GO
-- Make sure CLR is enabled in the instance
IF (SELECT value_in_use FROM sys.configurations WHERE name = 'clr enabled') = 0
BEGIN
    PRINT N'Enabling CLR...'
	DECLARE @InitAdvanced INT;
	SELECT @InitAdvanced = CONVERT(int, value) FROM sys.configurations WHERE name = 'show advanced options';

	IF @InitAdvanced = 0
	BEGIN
		EXEC sp_configure 'show advanced options', 1;
		RECONFIGURE;
	END

    EXEC sp_configure 'clr enabled', 1;
    RECONFIGURE;

	IF @InitAdvanced = 0
	BEGIN
		EXEC sp_configure 'show advanced options', 0;
		RECONFIGURE;
	END
END
GO
IF NOT EXISTS (select * from sys.asymmetric_keys WHERE name = '$(CLRKeyName)')
BEGIN
	BEGIN TRY
		PRINT N'Creating encryption key from: $(PathToSignedDLL)'
		create asymmetric key [$(CLRKeyName)]
		from executable file = '$(PathToSignedDLL)'
	END TRY
	BEGIN CATCH
		IF ERROR_NUMBER() = 15396
		BEGIN
			RAISERROR(N'An encryption key with the same thumbprint was already created in this database with a different name.',0,1);
			IF EXISTS(
				SELECT *
				FROM sys.asymmetric_keys AS ak
				LEFT JOIN sys.syslogins AS l ON l.sid = ak.sid
				WHERE l.sid IS NULL
			)
			BEGIN
				RAISERROR(N'Please make sure that there is also a login for the existing encryption key.',0,1);
			END
		END
	END CATCH
END
GO
IF NOT EXISTS (select name from sys.syslogins where name = '$(CLRLoginName)')
AND EXISTS (select * from sys.asymmetric_keys WHERE name = '$(CLRKeyName)')
BEGIN
	PRINT N'Creating login from encryption key...'
	create login [$(CLRLoginName)] from asymmetric key [$(CLRKeyName)];
END
GO
grant unsafe assembly to [$(CLRLoginName)];
GO
-- Return execution context to intended target database
USE [$(DatabaseName)];
GO

GO
PRINT N'Creating Assembly [ClrHttpRequest]...';


GO
CREATE ASSEMBLY [ClrHttpRequest]
    AUTHORIZATION [dbo]
    FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C0103009A9853650000000000000000E00022200B0130000028000000060000000000006E46000000200000006000000000001000200000000200000400000000000000060000000000000000A0000000020000603000000300608500001000001000000000100000100000000000001000000000000000000000001C4600004F00000000600000FC03000000000000000000000000000000000000008000000C000000E44400001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E7465787400000074260000002000000028000000020000000000000000000000000000200000602E72737263000000FC0300000060000000040000002A0000000000000000000000000000400000402E72656C6F6300000C0000000080000000020000002E0000000000000000000000000000400000420000000000000000000000000000000050460000000000004800000002000500982B0000CC18000009000000000000000000000000000000644400008000000000000000000000000000000000000000000000000000000000000000000000001B300800990A000001000011000F00280F00000A130411042C0C7201000070281000000A10000F04281100000A130511052C0C2030750000281200000A10040F05281300000A130611062C0816281400000A10050F06281300000A130711072C0816281400000A10060F00281500000A6F1600000A7201000070281700000A2C1A0F02280F00000A2D110F02281500000A281800000A16FE012B0116130811082C3C000F02281500000A1309030F01281500000A1F3F6F1900000A16300772090000702B05720D0000701109281A00000A281000000A281B00000A10010020000C0000281C00000A000F01281500000A281D00000A74150000010A160B160C0F03280F00000A2D110F03281500000A281800000A16FE012B0116130A110A3979040000000F03281500000A281E00000A130B00110B6F1F00000A6F2000000A130C383A040000110C6F2100000A130D00110D7211000070282200000A6F2300000A6F2400000A130E110D6F2500000A130F110E6F1600000A131311131312111239E80300001112282600000A131411141A59450E0000005E000000800100001B000000960100009E0300009E0300003B0000009E03000012010000D8010000FC0000009E0300009E030000810000002B0011141F1F3BA10100002B0011141F213BAC0100003883030000111216282700000A131511151F412E792B0011151F453B840000003863030000111216282700000A131511151F433B820000002B0011151F553B8D0000003840030000111216282700000A131511151F443BB70000002B0011151F483BC2000000381D030000111216282700000A131511151F493BC00000002B0011151F543BCB00000038FA0200001112721B000070281700000A3A3901000038E402000011127229000070281700000A3A7701000038CE02000011127237000070281700000A3A1B01000038B80200001112724D000070281700000A3AE101000038A202000011127263000070281700000A3AFD000000388C02000011127281000070281700000A3AFC00000038760200001112729B000070281700000A3AF60000003860020000111272A5000070281700000A3A01010000384A020000111272AF000070281700000A3AF90000003834020000111272D3000070281700000A3A4F010000381E020000111272F7000070281700000A3AE0000000380802000011127203010070281700000A3A1501000038F201000011127213010070281700000A3A2901000038DC01000011127253010070281700000A3A4401000038C601000011127297010070281700000A3A9101000038B001000006110F6F2800000A0038B401000006110F6F2900000A0038A601000006110F282A00000A6F2B00000A00170B389101000006110F6F2C00000A00170C388101000006110F282D00000A6F2E00000A00386E01000006110F6F2F00000A00386001000006110F6F3000000A00385201000006110F282D00000A6F3100000A00383F010000110F178D2800000125161F2D9D6F3200000A131011108E6918FE04131611162C0C0072B3010070733300000A7A061110169A283400000A1110179A283400000A6F3500000A0038F400000006110F6F3600000A0038E600000006110F6F3700000A0038D800000006110F6F3800000A0038CA000000066F3900000A72150200707231020070283A00000A110F6F3B00000A283C00000A281A00000A6F3D00000A003899000000110F178D2800000125161F3A9D6F3200000A131111118E6918FE04131711172C0C00723F020070733300000A7A06110F178D2800000125161F3A9D6F3200000A169A110F178D2800000125161F3A9D6F3200000A179A733E00000A6F3F00000A002B36066F3900000A721502007072220300700F09281500000A281A00000A6F3D00000A002B12066F3900000A110E110F6F3D00000A002B0000110C6F4000000A3ABAFBFFFFDE0D110C2C08110C6F4100000A00DC000F07280F00000A2D280F07281500000A281800000A2D1A0F08280F00000A2D110F08281500000A281800000A16FE012B0116131811182C25000F07281500000A0F08281500000A734200000A1319066F4300000A11196F4400000A2600060F00280F00000A2D0E0F00281500000A6F1600000A2B0572010000706F4500000A00060F04281100000A2D090F04284600000A2B0520307500006F4700000A000F05281300000A2D090F05284800000A2B0116131A111A2C0A0006196F4900000A00000F00281500000A6F1600000A7201000070284A00000A2C1A0F02280F00000A2D110F02281500000A281800000A16FE012B0116131B111B2C6D00283A00000A0F02281500000A6F3B00000A131C0716FE01131D111D2C0E0006111C8E696A6F2B00000A00000816FE01131E111E2C0E000672320300706F2C00000A0000066F4B00000A131F00111F111C16111C8E696F4C00000A0000DE0D111F2C08111F6F4100000A00DC00066F4D00000A741A0000011320007276030070282200000A734E00000A132111206F4F00000A13221613243897000000007286030070282200000A734E00000A132500112211246F5000000A13261613272B28112611279A13280011257294030070282200000A1128735100000A6F5200000A0000112717581327112711268E6932D0112172A0030070282200000A188D0E00000125167211000070282200000A112211246F5300000A735100000AA225171125A2735400000A6F5200000A0000112417581324112411226F5500000AFE04132911293A55FFFFFF7E5600000A132311206F5700000A132A000E06285800000A132B112B2C3800735900000A132C00112A112C6F5A00000A00112C6F5B00000A132D112D283C00000A132300DE0D112C2C08112C6F4100000A00DC002B2500112A735C00000A132E00112E6F5D00000A132300DE0D112E2C08112E6F4100000A00DC0000DE0D112A2C08112A6F4100000A00DC72AE030070282200000A1F138D0E000001251672C0030070282200000A11206F5E00000A735100000AA2251772DA030070282200000A11206F5F00000A735100000AA2251872FA030070282200000A11206F6000000A8C26000001735100000AA225197216040070282200000A11206F6100000A735100000AA2251A722E040070282200000A11206F6200000A6F6300000A8C2A000001735100000AA2251B7248040070282200000A11206F4F00000A6F5500000A8C2A000001735100000AA2251C1121A2251D7262040070282200000A11206F6400000A8C39000001735100000AA2251E727A040070282200000A11206F6500000A8C39000001735100000AA2251F0972AA040070282200000A11206F6600000A8C27000001735100000AA2251F0A72C4040070282200000A11206F6700000A735100000AA2251F0B72D2040070282200000A11206F6800000A735100000AA2251F0C72F2040070282200000A11206F6900000A735100000AA2251F0D720A050070282200000A11206F6A00000A735100000AA2251F0E7218050070282200000A11206F6B00000A8C3C000001735100000AA2251F0F722E050070282200000A11206F6B00000A8C2A000001735100000AA2251F107248050070282200000A11206F6C00000A735100000AA2251F11726C050070282200000A11206F6D00000A8C39000001735100000AA2251F12728C050070282200000A1123735100000AA2735400000A0D00DE0D11202C0811206F4100000A00DC096F6E00000A736F00000A132F2B00112F2A0000004194000002000000350100004D040000820500000D0000000000000002000000D606000013000000E90600000D0000000000000002000000F807000020000000180800000D0000000000000002000000320800000D0000003F0800000D0000000000000002000000E20700006E000000500800000D000000000000000200000004070000760300007A0A00000D000000000000002202287000000A002A00000042534A4201000100000000000C00000076342E302E33303331390000000005006C000000D0050000237E00003C0600005009000023537472696E6773000000008C0F0000980500002355530024150000100000002347554944000000341500009803000023426C6F620000000000000002000001471502080900000000FA013300160000010000003E00000002000000020000000A00000070000000140000000100000002000000010000000500000000008A0401000000000006003003E2060600AF03E20606007C02BA060F00130700000600900250050600130350050600DF02500506009603500506005003500506007B0350050600A70250050600C202500506005A02020706003F0803050A00FE0274060A00B3042E070A00690374060A001F042E070A001D002E070A000A052E070E00BF08510812008D08FD0506000F0085000E00260043070600FC0466000E00FF0151080E00A10551080600F60466000600290666000600220403050E00410651080E00B10151080E00C308510812005506FD050600010085001200A201FD0512004F02FD0506004E0003050600A801030506000D0603050600D00503050600200003050600070414090600B70803050E008D05D1000E00780451080E009B07510806009A06B8070600960103050E00730543070600320243070E00CD0651080E00030251080E00E601D1000600360666000E006205510806000D05030506002D0503050E00740403050E006801510812007701FD0516001F06A804000000005D00000000000100010001001000CB0700003900010001005020000000009600DD08780201008C2B000000008618B40606000B0000000100100100000200CF04000003001208000004000A08000005000309000006001D08000007003700000008002904000009001E0100000A0015050900B40601001100B40606001900B4060A002900B40610003100B40610003900B40610004100B40610004900B40610005100B40610005900B40610006100B40610006900B40610007900B40606008900B406060091009D04600091006D08640099009D04600099006D086A00A1009D046000A1006D0870009100CD037600F10060067600F1002F097A00F10032018000F100DF038500F10038088A009100C4059000F900BA04990009014202A000B1002302A70011012C08AD000C00A606BF0014009608CF0021016D08D400B100C303DB002901CD037600B100CD037600F1003904E400F100E007E800A900AC081000A900B505100031012302ED0009015604F2000901D601100039012302F700A9002902FE00A90046081000A900EE081000A9004501FE00F100790805014901B4061000510123020C01A9007D011101A90068061000A900E7031000A9007F0810000901EA071701590154001C015901880722016101100428016901A0002E017101B4062E010901A807340181010B09600089011B020600C100B4062E01A90071073B019101A00041010901050110009900CD03E4000901F7080100A100CD036000A90035054801F1003B097A000901E5044F01C9004902540109010F025C01B100B4066201A901EA071701690191076901B100B4066F011101A0007701690128097C01B100B4068101B101A208E400F10049098A01A901D3044F01A100D7038D01E100B4060600C900F6059301E10020099901E900B4069301B901F0007600D1005C087600D100FC037600A90144049E01A901C6017600D1002207A201C101A208E400A90186016000A901B5006000D100A400A801D100FA007600D1002105AE01A9016804B401D1008F067600D1005901BA01D100E0057600A901F6076000E9011206C0018100B406C6017100B406060020006B003B032400730040032E000B0091022E0013009A022E001B00B9022E002300C2022E002B00D6022E0033000B032E003B000B032E004300C2022E004B0011032E0053000B032E005B0023032E00630030034400730053036400730074038400730074030401730074032401730074034401730074031500B700C80004800000030005000000000001000000D601CE080000040000000000000000000000CD017C0000000000040000000000000000000000CD01700000000000040000000000000000000000CD01030500000000040000000000000000000000CD01FD0500000000040000000000000000000000CD01A8040000000000000049456E756D657261626C6560310049456E756D657261746F7260310053716C496E743332005835303943657274696669636174653200636F6E76657274526573706F6E7365546F426173363400496E743634006765745F55544638003C4D6F64756C653E0053797374656D2E494F0053797374656D2E44617461006D73636F726C69620053797374656D2E436F6C6C656374696F6E732E47656E6572696300416464006765745F4C6173744D6F646966696564006765745F49734D757475616C6C7941757468656E746963617465640053797374656D2E436F6C6C656374696F6E732E5370656369616C697A65640052656164546F456E64006765745F4D6574686F64007365745F4D6574686F6400726571756573744D6574686F6400636572746966696361746550617373776F72640049734E756C6C4F7257686974655370616365007365745F49664D6F64696669656453696E6365006765745F537461747573436F64650048747470537461747573436F646500584E6F64650041646452616E6765006765745F497346726F6D43616368650049446973706F7361626C6500584E616D65004461746554696D6500536563757269747950726F746F636F6C54797065006765745F436F6E74656E7454797065007365745F436F6E74656E7454797065004E616D654F626A656374436F6C6C656374696F6E426173650048747470576562526573706F6E736500476574526573706F6E736500446973706F7365005061727365007365745F4461746500583530394365727469666963617465004372656174650057726974650058417474726962757465004E65757472616C5265736F75726365734C616E67756167654174747269627574650044656275676761626C6541747472696275746500417373656D626C795469746C6541747472696275746500417373656D626C7954726164656D61726B41747472696275746500417373656D626C7946696C6556657273696F6E41747472696275746500417373656D626C79436F6E66696775726174696F6E4174747269627574650053716C46756E6374696F6E41747472696275746500417373656D626C794465736372697074696F6E41747472696275746500436F6D70696C6174696F6E52656C61786174696F6E7341747472696275746500417373656D626C7950726F647563744174747269627574650053716C466163657441747472696275746500417373656D626C79436F7079726967687441747472696275746500417373656D626C79436F6D70616E794174747269627574650052756E74696D65436F6D7061746962696C697479417474726962757465006765745F56616C7565006F705F5472756500496E6465784F66007365745F5472616E73666572456E636F64696E67006765745F436F6E74656E74456E636F64696E6700546F426173653634537472696E670053716C537472696E6700636572746966696361746550617468006765745F4C656E677468006765745F436F6E74656E744C656E677468007365745F436F6E74656E744C656E677468006765745F526573706F6E7365557269004E6574776F726B43726564656E7469616C00436C7248747470526571756573742E646C6C006765745F49734E756C6C0053797374656D2E586D6C0053716C586D6C007365745F536563757269747950726F746F636F6C0075726C00476574526573706F6E736553747265616D004765745265717565737453747265616D004D656D6F727953747265616D0053797374656D0053716C426F6F6C65616E00626561726572546F6B656E006765745F50726F746F636F6C56657273696F6E007365745F4175746F6D617469634465636F6D7072657373696F6E0053797374656D2E5265666C656374696F6E00436F6F6B6965436F6C6C656374696F6E00583530394365727469666963617465436F6C6C656374696F6E004E616D6556616C7565436F6C6C656374696F6E00576562486561646572436F6C6C656374696F6E007365745F436F6E6E656374696F6E006F705F4164646974696F6E00466F726D6174457863657074696F6E006765745F5374617475734465736372697074696F6E00436F7079546F0053797374656D2E586D6C2E4C696E7100436861720043726561746552656164657200586D6C5265616465720053747265616D52656164657200546578745265616465720053657276696365506F696E744D616E616765720058436F6E7461696E657200546F5570706572007365745F52656665726572004D6963726F736F66742E53716C5365727665722E536572766572006765745F5365727665720049456E756D657261746F7200476574456E756D657261746F72002E63746F720053797374656D2E446961676E6F7374696373004465636F6D7072657373696F6E4D6574686F64730053797374656D2E52756E74696D652E436F6D70696C657253657276696365730053797374656D2E5265736F757263657300446562756767696E674D6F646573006765745F436F6F6B6965730053797374656D2E446174612E53716C54797065730053797374656D2E53656375726974792E43727970746F6772617068792E58353039436572746966696361746573006765745F436C69656E744365727469666963617465730047657442797465730047657456616C756573004943726564656E7469616C73007365745F43726564656E7469616C730053797374656D2E436F6C6C656374696F6E730055736572446566696E656446756E6374696F6E73006765745F4368617273006765745F48656164657273006765745F537570706F72747348656164657273006865616465727300706172616D6574657273006175746F4465636F6D70726573730044657363656E64616E747300436F6E636174004F626A656374007365745F4578706563740053797374656D2E4E6574006765745F436861726163746572536574006F705F496D706C696369740053706C6974007365745F557365724167656E740058456C656D656E74006765745F43757272656E74006765745F436F756E74007365745F41636365707400436F6E7665727400487474705765625265717565737400436C72487474705265717565737400636C725F687474705F72657175657374007365745F486F7374007365745F54696D656F75740074696D656F7574004D6F76654E6578740053797374656D2E5465787400546F4172726179004765744B6579006F705F457175616C697479006F705F496E657175616C69747900456D7074790000000747004500540000033F000003260000094E0061006D006500000D410043004300450050005400000D450058005000450043005400001543004F004E004E0045004300540049004F004E00001555005300450052002D004100470045004E005400011D43004F004E00540045004E0054002D004C0045004E00470054004800011943004F004E00540045004E0054002D00540059005000450001094400410054004500000948004F00530054000023490046002D004D004F004400490046004900450044002D00530049004E004300450001235400520041004E0053004600450052002D0045004E0043004F00440049004E004700010B520041004E0047004500000F5200450046004500520045005200003F41005500540048004F00520049005A004100540049004F004E002D00420041005300490043002D00430052004500440045004E005400490041004C005300014341005500540048004F00520049005A004100540049004F004E002D004E004500540057004F0052004B002D00430052004500440045004E005400490041004C005300011B41005500540048004F00520049005A004100540049004F004E000061520061006E006700650020006D007500730074002000620065002000730070006500630069006600690065006400200069006E0020006100200066006F0072006D006100740020006F0066002000730074006100720074002D0065006E006400011B41007500740068006F00720069007A006100740069006F006E00000D4200610073006900630020000080E15700680065006E002000730070006500630069006600790069006E006700200041007500740068006F00720069007A006100740069006F006E002D004E006500740077006F0072006B002D00430072006500640065006E007400690061006C007300200068006500610064006500720073002C00200070006C006500610073006500200073006500740020007400680065002000760061006C0075006500200069006E0020006100200066006F0072006D006100740020006F006600200075007300650072006E0061006D0065003A00700061007300730077006F0072006400010F420065006100720065007200200000436100700070006C00690063006100740069006F006E002F0078002D007700770077002D0066006F0072006D002D00750072006C0065006E0063006F00640065006400010F4800650061006400650072007300000D560061006C00750065007300000B560061006C0075006500000D480065006100640065007200001152006500730070006F006E00730065000019430068006100720061006300740065007200530065007400001F43006F006E00740065006E00740045006E0063006F00640069006E006700001B43006F006E00740065006E0074004C0065006E00670074006800001743006F006E00740065006E0074005400790070006500001943006F006F006B0069006500730043006F0075006E0074000019480065006100640065007200730043006F0075006E007400001749007300460072006F006D0043006100630068006500002F490073004D0075007400750061006C006C007900410075007400680065006E00740069006300610074006500640000194C006100730074004D006F00640069006600690065006400000D4D006500740068006F006400001F500072006F0074006F0063006F006C00560065007200730069006F006E00001752006500730070006F006E0073006500550072006900000D530065007200760065007200001553007400610074007500730043006F006400650000195300740061007400750073004E0075006D0062006500720000235300740061007400750073004400650073006300720069007000740069006F006E00001F53007500700070006F007200740073004800650061006400650072007300000942006F0064007900000000317F3E1E748C6144B7766AD5E5474EA300042001010803200001052001011111042001010E4A073012550202125902020202020E02125915125D01125912590E0E1D0E1D0E0E0E0803020202126102021D050202126512691259126D0E0812591D0E080E0212650212711D05127512410320000205000111490E050001114D080500011151020320000E050002020E0E040001020E04200108030500020E0E0E080002114911491149060001011180810600011280850E05000112590E0920001512808D011259071512808D01125908200015125D0113000615125D01125904200013000600011280910E0820011280951280910320000804200103080400010A0E042001010A06000111809D0E0620010111809D0620011D0E1D03040001080E052002010808042000126D0500001280AD0520011D050E0500010E1D05052002010E0E062001011280BD0520001280C9062001081280CD062001011180D10420001265072003011D0508080520001280D5062001011280910520011D0E08072002011280911C042001011C0420010E08082002011280911D1C02060E0500010211510520010112650420001D050320000A0520001280E105200011809D0520001280E90520001280ED0520001180F10520001280F9062001011280F908B77A5C561934E08980A000240000048000009400000006020000002400005253413100040000010001003D8E79BAE28F492EE9B3A5997E7ED6336551C0F78360D7D8B1EED2082F0DDEDB343410B470CFD74E7A22880DDE5DDF63E22F26B37E1CD10051FE2A8F6885DAB5341D5677C59ADA7D2EF303A9429F7D275A015BB9DF1D3DEE0009E595DD31A9AAA08967A14C6B4E4CEA1240111F4FD44FC24D3FADB36B320B44AFF163B289C5BB18000A12411149114911491149114D115111511149114911490801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F7773010801000701000000001301000E436C72487474705265717565737400003401002F434C522066756E6374696F6E20666F722072756E6E696E672052455354206D6574686F6473206F766572204854545000000501000000001101000C456974616E20426C756D696E00000C010007332E352E302E3000000A010005656E2D55530000040100000012010001005408074D617853697A650A00000020010002005408074D617853697A65FFFFFFFF54020A49734E756C6C61626C650020010002005408074D617853697A65FFFFFFFF54020A49734E756C6C61626C650100000003E69CDFC80497F327CCB603F035C2BCAF517423357A11CB179FBB2092C90021A65F6DB8DAB8E045FBF265F76C1FD2102D576294D3B63484002DBF366B140D617CCB38266C863048CF01746A959F6EB152EF536A6CF62CE330BEF9E783B96F2F92DAD3CD674B6E8F0ED41B2E7A87F19DB6931844F616173B27EC2BD29320BF67000000009A98536500000000020000001C010000004500000027000052534453088286D70F98494391BD3648A2775DA701000000433A5C55736572735C756B2D6761636C656D656E74735C736F757263655C7265706F735C436C724874747052657175657374315C436C7248747470526571756573745C6F626A5C44656275675C436C7248747470526571756573742E7064620000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004446000000000000000000005E46000000200000000000000000000000000000000000000000000050460000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF250020001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058600000A00300000000000000000000A00334000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100050003000000000005000300000000003F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B00400030000010053007400720069006E006700460069006C00650049006E0066006F000000DC020000010030003000300030003000340062003000000078003000010043006F006D006D0065006E0074007300000043004C0052002000660075006E006300740069006F006E00200066006F0072002000720075006E006E0069006E0067002000520045005300540020006D006500740068006F006400730020006F0076006500720020004800540054005000000022000100010043006F006D00700061006E0079004E0061006D006500000000000000000046000F000100460069006C0065004400650073006300720069007000740069006F006E000000000043006C0072004800740074007000520065007100750065007300740000000000300008000100460069006C006500560065007200730069006F006E000000000033002E0035002E0030002E003000000046001300010049006E007400650072006E0061006C004E0061006D006500000043006C007200480074007400700052006500710075006500730074002E0064006C006C00000000003E000D0001004C006500670061006C0043006F007000790072006900670068007400000045006900740061006E00200042006C0075006D0069006E00000000002A00010001004C006500670061006C00540072006100640065006D00610072006B00730000000000000000004E00130001004F0072006900670069006E0061006C00460069006C0065006E0061006D006500000043006C007200480074007400700052006500710075006500730074002E0064006C006C00000000003E000F000100500072006F0064007500630074004E0061006D0065000000000043006C0072004800740074007000520065007100750065007300740000000000340008000100500072006F006400750063007400560065007200730069006F006E00000033002E0035002E0030002E003000000038000800010041007300730065006D0062006C0079002000560065007200730069006F006E00000033002E0035002E0030002E00300000000000000000000000004000000C000000703600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
    WITH PERMISSION_SET = EXTERNAL_ACCESS;


GO
ALTER ASSEMBLY [ClrHttpRequest]
    DROP FILE ALL
    ADD FILE FROM 0x4D6963726F736F667420432F432B2B204D534620372E30300D0A1A4453000000000200000100000023000000BC0000000000000022000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000E0010000F8FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF18FEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0BCA310138000000001000000010000000000000FFFFFFFF04000000FFFF030000000000FFFFFFFF00000000FFFFFFFF00000000FFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000BCA310138000000001000000010000000000000FFFFFFFF04000000FFFF030000000000FFFFFFFF00000000FFFFFFFF00000000FFFFFFFF0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000BCA3101380000000010000000100000000000001300FFFF04000000FFFF03000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000BCA3101380000000010000000100000000000001500FFFF04000000FFFF030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000200000003C00000000000000400000000000000000000000030000000500000006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000005A003C110F000000070000000000000000000400BC02170005CA4323202D20342E372E302D332E32333531372E31372B39643463633033303437393237363263333466343163626265633637613166636432646337363466000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000F862513FC607D311905300C04FA302A1C4454B99E9E6D211903F00C04FA302A10B9D865A1166D311BD2A0000F80849BD0FD02988B8111342878B770E8597AC162000000000000000B98A89C7DF50639598044E5196D87100AC20BE8FA2600713E22159655D720556000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000F862513FC607D311905300C04FA302A1C4454B99E9E6D211903F00C04FA302A10B9D865A1166D311BD2A0000F80849BD0FD02988B8111342878B770E8597AC162000000000000000820D57E19110B281BB9A191D9958391EC159094982937744C3FEB26D48E9929B000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000F862513FC607D311905300C04FA302A1C4454B99E9E6D211903F00C04FA302A10B9D865A1166D311BD2A0000F80849BD0FD02988B8111342878B770E8597AC1620000000000000004D86312411AE692F14EC808508C71A0C63FDFA00C5BAD286E92494E4D153C0E40000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000990A000000000000990A0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000FEEFFEEF010000002202000000433A5C55736572735C756B2D6761636C656D656E74735C736F757263655C7265706F735C436C724874747052657175657374315C436C7248747470526571756573745C636C725F687474705F726571756573742E63730000633A5C75736572735C756B2D6761636C656D656E74735C736F757263655C7265706F735C636C726874747072657175657374315C636C7268747470726571756573745C636C725F687474705F726571756573742E637300433A5C55736572735C756B2D6761636C656D656E74735C417070446174615C4C6F63616C5C54656D705C2E4E45544672616D65776F726B2C56657273696F6E3D76342E372E322E53716C436C72417474726962757465732E637300633A5C75736572735C756B2D6761636C656D656E74735C617070646174615C6C6F63616C5C74656D705C2E6E65746672616D65776F726B2C76657273696F6E3D76342E372E322E73716C636C72617474726962757465732E637300433A5C55736572735C756B2D6761636C656D656E74735C736F757263655C7265706F735C436C724874747052657175657374315C436C7248747470526571756573745C50726F706572746965735C417373656D626C79496E666F2E637300633A5C75736572735C756B2D6761636C656D656E74735C736F757263655C7265706F735C636C726874747072657175657374315C636C7268747470726571756573745C70726F706572746965735C617373656D626C79696E666F2E6373000B0000006601000058000000C401000000000000000000000000000000000000B000000059000000010000000B010000070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001BE23001D8000000BB6628161317DA010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000300000006000000010000002C00000000000000C4010000280000001BE23001A102C000680000006601000058000000C40100006500000000000000000000000B010000280000001BE23001154EAB0268000000B0000000580000000B01000065000000000000000000000059000000280000001BE230011F8BC781680000000100000058000000590000006500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000003A002A1100000000F406000000000000990A0000000000000000000001000006000000000100000000636C725F687474705F7265717565737400000016000311040000002C060000990A000000000000010000001E002411554D6963726F736F66742E53716C5365727665722E536572766572000A0024115553797374656D001A0024115553797374656D2E446174612E53716C54797065730000000E0024115553797374656D2E494F00000E0024115553797374656D2E4E657400320024115553797374656D2E53656375726974792E43727970746F6772617068792E583530394365727469666963617465730000120024115553797374656D2E5465787400000000160024115553797374656D2E586D6C2E4C696E71000000001A0020110000000001000011000000000000000072657175657374002E00201101000000010000110000000000000000636F6E74656E744C656E67746853657446726F6D48656164657273002E00201102000000010000110000000000000000636F6E74656E745479706553657446726F6D486561646572730000001E0020110300000001000011000000000000000072657475726E586D6C0000001600031140000000FC0100003C00000096000000010000002600201109000000010000110000000000000000706172616D6574657273537472696E6700000000020006001600031140000000240300007904000017010000010000001A0020110B000000010000110000000000000000786D6C44617461001600031100020000200300003A0400003A01000001000000220020110D000000010000110000000000000000686561646572456C656D656E7400000016000311340200001C0300003104000043010000010000001E0020110E0000000100001100000000000000006865616465724E616D6500001E0020110F00000001000011000000000000000068656164657256616C7565001600031170020000180300000E04000065010000010000001A0020111000000001000011000000000000000070617274730000001A0020111100000001000011000000000000000076616C75657300000200060002000600020006000200060016000311400000006003000025000000C8050000010000001E00201119000000010000110000000000000000636572746966696361746500020006001600031140000000D80300006D0000008A06000001000000220020111C000000010000110000000000000000706172616D65746572446174610000001600031164030000D403000028000000CE060000010000001A0020111F00000001000011000000000000000073747265616D0000020006000200060016000311400000002806000090030000F7060000010000001E00201120000000010000110000000000000000726573706F6E73650000000016000311DC030000240600007403000004070000010000001E0020112100000001000011000000000000000068656164657273586D6C00002200201122000000010000110000000000000000726573706F6E736548656164657273002200201123000000010000110000000000000000726573706F6E7365537472696E670000160003111404000038050000B30000001F070000010000001600201124000000010000110000000000000000690000001600031194040000340500009100000027070000010000001E0020112500000001000011000000000000000076616C756573586D6C00000016000311C404000030050000220000004A070000010000001A0020112800000001000011000000000000000076616C756500000002000600020006000200060016000311140400002006000084000000D9070000010000001A0020112A00000001000011000000000000000073747265616D0000160003113C050000E405000034000000F107000001000000220020112C0000000100001100000000000000006D656D6F727953747265616D000000001600031170050000E00500001E000000F8070000010000001A0020112D00000001000011000000000000000062797465730000000200060002000600160003113C0500001C0600002300000029080000010000001A0020112E00000001000011000000000000000072656164657200000200060002000600020006000200060002000600C2000404C93FEAC6B359D649BC250902BBABB460000000004D0044003200000004020000040000000C0000000100080004060003940000000183C0018434018467019A5F022702700280AD0280F8028198018260028493018540068576018576018609018652018C200190552487050287050000028C5902908F0293CA0194AA0296260297120197C60298300298BC01998B019A7E019B0B019B42019E40019B7C019BF6079C2B099C2B019C2B029B73019E77029F28019F7701A08A01A19E160100000002000600F20000004C0800000000000001000100990A000000000000AF00000040080000000000001A000080010000001C0000800A000000EEEFFE800E0000001D0000801A0000001F00008023000000EEEFFE80270000002000008033000000220000803C000000EEEFFE804000000023000080480000002500008051000000EEEFFE8055000000260000805D0000002900008092000000EEEFFE80960000002A000080970000002C000080A00000002F000080D100000030000080D200000032000080DD00000035000080EF00000038000080F100000039000080F30000003A00008010010000EEEFFE80170100003B000080180100003D000080260100003E000080270100003E00008035010000EEEFFE803A0100003E000080430100003F00008044010000410000805C0100004200008065010000450000806E010000EEEFFE8072010000EEEFFE80B103000048000080BA03000049000080BF0300004B000080C80300004C000080CD0300004E000080DB0300004F000080DD03000050000080E203000052000080EB03000053000080ED03000054000080F203000056000080000400005700008005040000590000800E0400005A000080130400005C0000801C0400005D000080210400005F0000802F040000600000803404000062000080480400006300008051040000EEEFFE805504000064000080560400006500008061040000670000807A040000680000807F0400006A000080880400006B0000808D0400006D000080960400006E0000809B04000070000080A404000071000080A904000073000080D504000074000080DA04000076000080EE04000077000080F7040000EEEFFE80FB04000078000080FC04000079000080070500007B0000803B0500007C0000803D0500007F0000805F05000080000080610500008200008071050000830000807305000085000080740500003E00008082050000EEEFFE808E050000EEEFFE808F050000860000809005000089000081C4050000EEEFFE80C80500008B000080C90500008C000080DE0500008D000080EC0500008E000080ED0500009100008010060000920000802E0600009300008043060000EEEFFE80470600009400008048060000950000805006000096000080510600009900008086060000EEEFFE808A0600009A0000808B0600009C0000809E0600009F000080A4060000EEEFFE80A8060000A0000080A9060000A1000080B5060000A2000080B6060000A3000080BC060000EEEFFE80C0060000A4000080C1060000A5000080CD060000A6000080CE060000A9000080D6060000AA000080D7060000AB000080E6060000AC000080E9060000EEEFFE80F5060000EEEFFE80F6060000AD000080F7060000B100008004070000B200008005070000B400008016070000B50000801F070000B600008022070000EEEFFE8027070000B700008028070000B900008039070000BA0000803A070000BA00008048070000EEEFFE804A070000BA00008051070000BB00008052070000BC0000806B070000BD0000806C070000EEEFFE8072070000BA0000807A070000C0000085B7070000C6000080B8070000B6000080BE070000B6000080CB070000EEEFFE80D2070000C9000080D9070000CA000080E2070000CB000080E3070000CD000080EC070000EEEFFE80F0070000CE000080F1070000CF000080F8070000D0000080F9070000D200008003080000D50000800C080000D800008015080000D900008018080000EEEFFE8024080000EEEFFE8025080000DA00008026080000EEEFFE8028080000DC00008029080000DD00008032080000DE00008033080000E00000803C080000E10000803F080000EEEFFE804B080000EEEFFE804C080000E20000804D080000E300008050080000EEEFFE805C080000EEEFFE805D080000E6000095770A0000FC0000807A0A0000EEEFFE80860A0000EEEFFE80870A0000FF000080960A0000000100800500060009002200000000000D00230009001C00000000000D001D0009002300000000000D00240009002B00000000000D002C0009007A000000000009000A000D0038000D00500009000A0009004B0009004800090032000900300009004A000000000009000A000D0039000D001400300045000000000016002C000D000E00110048001100370011002E0000000000000000001900360019001F0019003A0019001F001900490019003C0019001F0019003B0019003A0019001F001900440019001F001900360019001F001900340019001F0019004F0019001F0019003C0019002E000000000019001A001D006B001900540019001F001900370019001F001900400019001F001900390019001F001900860019001F0019003D0019002F000000000019001A001D00AB0019007B0019001F0019005D0019001F001900460019001F000D000E002D002F00000000000000000009000A00090062000000000009000A000D0073000D00390009000A00090059000900440009003C000000000009000A000D00670009000A0009007A000000000009000A000D004A000D002E00000000000D000E0011003E000D000E000D002C00000000000D000E0011004B000D000E0014003B000D000E00110046000D000E00000000000000000009000A001000450009000A000D0036000D00340012001B00000000000D000E0011003800110018002A004600000000001A0026001100120015004100110012000000000027002900110013000D000E0038003B001D003600000000000D002F0014003D000D000E0011002C0000000000110012001C004100150016001900350019003C00190048001500160000000000000000001100120000000000110012001C0041001500160019003D00150016000000000000000000110012000D000E0000000000000000000D00130009000A0000000000000000000900350005000600F4000000080000000100000000000000080000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000F400000010000000B000000000000000660100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000FFFFFFFF1A092FF1100000000C02000021000000010000000100000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001E00251100000000040000000100636C725F687474705F72657175657374000016002911000000000400000001003036303030303031000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000FFFFFFFF1A092FF10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000FFFFFFFF770931010100000010001E8E1100F0771200000040010000200000002C0000002C010000000000000000000016000000190000000000EEC00000000000000000FFFF000000000000FFFFFFFF00000000FFFF0000000000000000000000000E00F806000000000000640800000100000000000000000000000000000055736572446566696E656446756E6374696F6E7300373141414145453800000000000000FFFF000000000000FFFFFFFF00000000FFFF0000000000000000000000000900600000000000000000000000000000000000000000000000000000002A20436F6D70696C6572496E666F202A00383646353230373900000000000000FFFF000000000000FFFFFFFF00000000FFFF0000000000000000000000000F00040000000000000018000000020000000000000000000000000000003C44616E676C696E67446F63756D656E74732A32323333343362642D613835392D343161332D393063302D3964666131303166316139353E0037464244413244320000002DBA2EF10100000000000000990A000000000000000000000000000000000000020002000D01000000000100FFFFFFFF00000000990A00000802000000000000FFFFFFFF00000000FFFFFFFF030003000000010001000100000002000000000057000000B2000000433A5C55736572735C756B2D6761636C656D656E74735C736F757263655C7265706F735C436C724874747052657175657374315C436C7248747470526571756573745C636C725F687474705F726571756573742E637300433A5C55736572735C756B2D6761636C656D656E74735C417070446174615C4C6F63616C5C54656D705C2E4E45544672616D65776F726B2C56657273696F6E3D76342E372E322E53716C436C72417474726962757465732E637300433A5C55736572735C756B2D6761636C656D656E74735C736F757263655C7265706F735C436C724874747052657175657374315C436C7248747470526571756573745C50726F706572746965735C417373656D626C79496E666F2E637300FEEFFEEF010000000100000000010000000000000000000000FFFFFFFFFFFFFFFFFFFF0D00FFFFFFFFFFFFFFFFFFFF00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000942E31019A98536501000000088286D70F98494391BD3648A2775DA75C0100002F4C696E6B496E666F002F544D4361636865002F6E616D6573002F7372632F686561646572626C6F636B002F7372632F66696C65732F633A5C75736572735C756B2D6761636C656D656E74735C736F757263655C7265706F735C636C726874747072657175657374315C636C7268747470726571756573745C636C725F687474705F726571756573742E6373002F7372632F66696C65732F633A5C75736572735C756B2D6761636C656D656E74735C617070646174615C6C6F63616C5C74656D705C2E6E65746672616D65776F726B2C76657273696F6E3D76342E372E322E73716C636C72617474726962757465732E6373002F7372632F66696C65732F633A5C75736572735C756B2D6761636C656D656E74735C736F757263655C7265706F735C636C726874747072657175657374315C636C7268747470726571756573745C70726F706572746965735C617373656D626C79696E666F2E637300070000000E00000001000000A30B000000000000F30000000C0000002B0000000A000000130000000700000000000000050000000A000000060000001A000000080000008D0000000B00000000000000DC5133010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001300000028000000D0010000380000002703000038000000000000000000000062020000D80000006400000068000000680000006800000028000000680F0000200000002C0200002C000000380000000700000020000000030000001E0000001F000000040000000E0000000F00000010000000090000000A0000000B0000000C0000000D0000001100000012000000130000001400000015000000160000001700000018000000190000001A0000001B0000001D0000001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 AS N'ClrHttpRequest.pdb';


GO
PRINT N'Creating Function [dbo].[clr_http_request]...';


GO
CREATE FUNCTION [dbo].[clr_http_request]
(@requestMethod NVARCHAR (10) NULL, @url NVARCHAR (MAX) NULL, @parameters NVARCHAR (MAX) NULL, @headers NVARCHAR (MAX) NULL, @timeout INT NULL, @autoDecompress BIT NULL, @convertResponseToBas64 BIT NULL, @certificatePath NVARCHAR (MAX) NULL, @certificatePassword NVARCHAR (MAX) NULL, @bearerToken NVARCHAR (MAX) NULL)
RETURNS XML
AS
 EXTERNAL NAME [ClrHttpRequest].[UserDefinedFunctions].[clr_http_request]


GO
DECLARE @VarDecimalSupported AS BIT;

SELECT @VarDecimalSupported = 0;

IF ((ServerProperty(N'EngineEdition') = 3)
    AND (((@@microsoftversion / power(2, 24) = 9)
          AND (@@microsoftversion & 0xffff >= 3024))
         OR ((@@microsoftversion / power(2, 24) = 10)
             AND (@@microsoftversion & 0xffff >= 1600))))
    SELECT @VarDecimalSupported = 1;

IF (@VarDecimalSupported > 0)
    BEGIN
        EXECUTE sp_db_vardecimal_storage_format N'$(DatabaseName)', 'ON';
    END


GO
ALTER DATABASE [$(DatabaseName)]
    SET MULTI_USER 
    WITH ROLLBACK IMMEDIATE;


GO
PRINT N'Update complete.';


GO
